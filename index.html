<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard - Caraga Dart Knights</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>

  <header>
    <div class="logo-title">
      <img src="images/Itim at Pula E-Sports Naglalarawan Gaming Gaming Logo (1).png" alt="Logo" class="logo" />
      <div class="title">Admin Dashboard</div>
    </div>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </header>

  <div class="welcome-message" id="welcomeAdmin"></div>

 <!-- 🗓️ Manage Upcoming Events Section -->
<section>
  <h2>Manage Upcoming Events</h2>
  <button onclick="openEventModal()">➕ Add Event</button>

  <table id="eventTable">
    <thead>
      <tr>
        <th>Title</th>
        <th>Date</th>
        <th>Location</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="eventList"></tbody>
  </table>
</section>

<!-- 📋 Modal for Adding/Editing Event -->
<div id="eventModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:#00000099; justify-content:center; align-items:center;">
  <div style="background:white; padding:20px; border-radius:10px; width: 300px;">
    <h3 id="eventModalTitle">Add Event</h3>
    <input type="hidden" id="eventIndex">
    <label>Event Title:</label>
    <input type="text" id="eventTitle" placeholder="Enter title" style="width:100%;"><br><br>
    <label>Event Date:</label>
    <input type="date" id="eventDate" style="width:100%;"><br><br>
    <label>Location:</label>
    <input type="text" id="eventLocation" placeholder="Enter location" style="width:100%;"><br><br>
    <div style="display: flex; justify-content: space-between;">
      <button onclick="saveEvent()">💾 Save</button>
      <button onclick="closeEventModal()">❌ Cancel</button>
    </div>
  </div>
</div>

  </div>

  <!-- Existing Sections Continue Below -->
  <!-- 🔁 Match Schedule Section with Monthly Navigation -->
  <section id="matchScheduleSection">
    <h2>Manage Match Schedule</h2>
    <div style="text-align: center; margin-bottom: 10px;">
      <button onclick="prevMonth()">←</button>
      <span id="monthYear">Loading...</span>
      <button onclick="nextMonth()">→</button>
    </div>
    <button onclick="openMatchModal()">➕ Add Match</button>
    <table id="matchScheduleTable">
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Match</th>
          <th>Location</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Matches loaded by JS -->
      </tbody>
    </table>
  </section>

  <!-- ➕ Modal -->
  <div id="matchModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3 id="modalTitle">Add Match</h3>
      <input type="hidden" id="matchIndex" />
      <label>Date:</label>
      <input type="date" id="matchDate" /><br/>
      <label>Time:</label>
      <input type="time" id="matchTime" /><br/>
      <label>Match:</label>
      <input type="text" id="matchTeams" placeholder="Team A vs Team B" /><br/>
      <label>Location:</label>
      <input type="text" id="matchLocation" /><br/>
      <div class="modal-actions">
        <button onclick="saveMatch()">💾 Save</button>
        <button onclick="closeMatchModal()">❌ Cancel</button>
      </div>
    </div>
  </div>

  <!-- 📝 Match Logs -->
  <section class="dashboard-container">
    <h2>Match Logs</h2>
    <div class="date-navigation" style="text-align: center; margin-bottom: 10px;">
      <button onclick="changeLogMonth(-1)">←</button>
      <span id="logMonthYear" class="month-display">Loading...</span>
      <button onclick="changeLogMonth(1)">→</button>
    </div>
    <button onclick="openLogModal()">➕ Add Match Log</button>
    <table class="log-table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Player</th>
          <th>Opponent</th>
          <th>Winner</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="adminMatchLogsTableBody"></tbody>
    </table>
  </section>

  <!-- ➕ Match Log Modal -->
  <div id="logModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h3 id="logModalTitle">Add/Edit Match Log</h3>
      <input type="hidden" id="logIndex" />
      <label>Date:</label>
      <input type="date" id="logDate" /><br/>
      <label>Player:</label>
      <input type="text" id="logPlayer" /><br/>
      <label>Opponent:</label>
      <input type="text" id="logOpponent" /><br/>
      <label>Winner:</label>
      <input type="text" id="logWinner" /><br/>
      <div class="modal-actions">
        <button onclick="addOrUpdateLog()">💾 Save</button>
        <button onclick="closeLogModal()">❌ Cancel</button>
      </div>
    </div>
  </div>

  <!-- 📋 User/Admin Histories -->
  <div class="dashboard-container">
    <h2>Registered Users</h2>
    <div id="userTableContainer"></div>

    <h2>Registered Admins</h2>
    <div id="adminTableContainer"></div>

    <h2>User Login History</h2>
    <div id="userLoginHistoryContainer"></div>

    <h2>Admin Login History</h2>
    <div id="adminHistoryContainer"></div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
